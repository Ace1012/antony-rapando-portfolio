import { AnimatePresence, motion } from "framer-motion";
import { useCallback, useContext, useState } from "react";
import { ModalContext } from "./App";
import ExtraMenu from "./extraMenu";

const navbarVariants = {
  hidden: {
    y: "-100vh",
  },
  visible: {
    y: "0vh",
    transition: {
      duration: 0.5,
      type: "spring",
      ease: "easeInOut",
      mass: 1,
      staggerChildren: 0.2,
    },
  },
};

const svgVariants = {
  hidden: {
    opacity: 0,
  },
  visible: {
    opacity: 1,
    transition: {
      duration: 1.5,
      ease: "easeInOut",
    },
  },
};

const pathVariants = {
  hidden: {
    pathLength: 0,
    pathOffset: 0,
    fill: "rgb(128, 0, 0, 0.1)",
    stroke: "transparent",
  },
  visible: {
    pathLength: 1,
    scale: 1.0,
    fill: ["rgb(248, 127, 92, 1)", "rgb(0, 0, 0, 0.5)"],
    stroke: "rgb(255, 255, 255, 0.4)",
    transition: {
      duration: 1,
      yoyo: 1,
      delay: 1,
      ease: "easeInOut",
    },
  },
};

const NavBar = (props: any) => {
  const { isOpen, setIsOpen } = useContext(ModalContext);
  const [extraMenu, setExtraMenu] = useState(false);

  const changeContext = () => {
    setIsOpen(true);
    console.log("Opening Contact Form!");
  };

  const toggleExtraMenu = useCallback(() => {
    setExtraMenu((prevExtraMenu) => !prevExtraMenu);
  }, [setExtraMenu]);

  return (
    <motion.nav
      className="navbar"
      variants={navbarVariants}
      initial="hidden"
      animate="visible"
    >
      <motion.svg
        className="home-logo"
        variants={svgVariants}
        initial="hidden"
        animate="visible"
        // width="300px"
        // height="100px"
        viewBox="20 60 80 35"
        onClick={() => window.scrollTo(0, 0)}
      >
        <title className="title">Go to top of the page</title>
        <motion.path
          variants={pathVariants}
          d="m 46.520048,69.015206 v 4.482119 h -1.813632 v 4.046359 h -6.29345 v -10.80689 q 0,-3.13748 2.123651,-4.868079 2.139153,-1.743044 5.998933,-1.743044 3.720269,0 5.502894,1.581192 1.782634,1.568738 1.782634,4.855626 V 77.543684 H 47.527622 V 66.898652 q 0,-0.996028 -0.294506,-1.381989 -0.294535,-0.385961 -1.054082,-0.385961 -1.472606,0 -1.472606,1.76795 v 2.116554 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18943"
        />
        <motion.path
          variants={pathVariants}
          d="m 59.588271,77.543684 h -1.948447 v -3.441723 q 0,-0.525731 -0.36989,-0.525731 -0.364683,0 -0.364683,0.525731 v 3.441723 h -1.948448 v -3.39893 q 0,-1.19207 0.672058,-2.005124 0.672057,-0.819167 1.646282,-0.819167 1.114885,0 1.786945,0.947545 0.526183,0.739695 0.526183,2.060142 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18945"
        />
        <motion.path
          variants={pathVariants}
          d="m 62.458844,69.19919 v 2.335236 h 0.875239 v 2.414706 h -0.875239 q 0,0.727469 0.192762,1.002563 0.197969,0.275091 0.718945,0.275091 v 2.40248 q -0.151084,0.0061 -0.224018,0.0061 -0.661639,0 -1.25034,-0.36068 -0.583492,-0.360677 -0.937757,-0.978109 -0.448039,-0.7886 -0.448039,-2.090709 V 69.19919 Z"
          strokeWidth={0.4}
          stroke="white"
          id="path18947"
        />
        <motion.path
          variants={pathVariants}
          d="m 66.756888,71.320463 q 1.104469,0 1.891142,0.93532 0.791882,0.929203 0.791882,2.231309 0,1.320447 -0.802304,2.24965 -0.797091,0.929204 -1.927607,0.929204 -1.130516,0 -1.932816,-0.929204 -0.802304,-0.935316 -0.802304,-2.24965 0,-1.338786 0.802304,-2.249651 0.8023,-0.916978 1.979703,-0.916978 z m -0.0521,2.255767 q -0.312587,0 -0.531396,0.268978 -0.218808,0.262866 -0.218808,0.647997 0,0.379018 0.218808,0.647999 0.224021,0.268979 0.531396,0.268979 0.312583,0 0.531395,-0.268979 0.224018,-0.268981 0.224018,-0.647999 0,-0.385131 -0.218809,-0.647997 -0.218809,-0.268978 -0.536604,-0.268978 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18949"
        />
        <motion.path
          variants={pathVariants}
          d="m 74.8841,77.543684 h -1.948448 v -3.441723 q 0,-0.525731 -0.36989,-0.525731 -0.364683,0 -0.364683,0.525731 v 3.441723 h -1.948447 v -3.39893 q 0,-1.19207 0.672057,-2.005124 0.672058,-0.819167 1.646283,-0.819167 1.114884,0 1.786945,0.947545 0.526183,0.739695 0.526183,2.060142 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18951"
        />
        <motion.path
          variants={pathVariants}
          d="M 76.691885,80.215142 V 78.22836 q 0.39594,0.195622 0.692895,0.195622 0.948175,0 1.229503,-1.253203 -0.510558,0.354563 -1.000273,0.354563 -0.724157,0 -1.193033,-0.629658 Q 75.9521,76.259914 75.9521,75.281805 v -3.832964 h 1.948447 v 3.276665 q 0,0.544073 0.385521,0.544073 0.369893,0 0.369893,-0.599091 v -3.221647 h 1.948444 v 5.440731 q 0,1.522181 -0.729363,2.457501 -0.870029,1.112596 -2.104741,1.112596 -0.541814,0 -1.078416,-0.244527 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18953"
        />
        <motion.path
          variants={pathVariants}
          d="M 44.482158,83.103544 V 93.193428 H 38.549846 V 79.393136 h 7.612642 q 3.477564,0 5.391679,1.192995 2.1333,1.33453 2.1333,3.386884 0,2.092792 -2.644702,3.528422 l 3.419112,5.691991 h -6.224541 l -2.878485,-4.448445 v -3.548647 h 0.467571 q 1.870284,0 1.870284,-1.112113 0,-0.980679 -2.162513,-0.980679 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18955"
        />
        <motion.path
          variants={pathVariants}
          d="m 57.910732,90.907097 v 2.3658 q -0.239649,0.04891 -0.43762,0.04891 -1.172194,0 -1.953654,-0.904749 -0.781464,-0.904753 -0.781464,-2.267993 0,-1.32656 0.786673,-2.24965 0.791882,-0.923088 1.922398,-0.923088 1.260759,0 1.984913,0.868069 0.729367,0.86196 0.729367,2.359691 v 2.989345 h -1.948448 v -2.824291 q 0,-0.482941 -0.20318,-0.770261 -0.197969,-0.28732 -0.536605,-0.28732 -0.307374,0 -0.531393,0.262869 -0.224021,0.262865 -0.224021,0.623542 0,0.379018 0.203181,0.623545 0.203181,0.244527 0.515767,0.244527 0.255277,0 0.474086,-0.158942 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18957"
        />
        <motion.path
          variants={pathVariants}
          d="m 63.130902,95.449191 h -1.948448 v -5.086166 q 0,-1.39992 0.625171,-2.280218 0.359473,-0.507393 0.911706,-0.806939 0.557445,-0.299545 1.140937,-0.299545 1.161775,0 1.958867,0.916975 0.797091,0.916978 0.797091,2.249651 0,1.295996 -0.791882,2.237425 -0.791882,0.941429 -1.87551,0.941429 -0.177131,0 -0.520977,-0.04279 v -2.518629 q 0.23965,0.226189 0.479299,0.226189 0.302165,0 0.515764,-0.262869 0.218809,-0.262865 0.218809,-0.623545 0,-0.360677 -0.224018,-0.611317 -0.224019,-0.256753 -0.536605,-0.256753 -0.750204,0 -0.750204,1.216524 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18959"
        />
        <motion.path
          variants={pathVariants}
          d="m 70.356828,90.907097 v 2.3658 q -0.239649,0.04891 -0.43762,0.04891 -1.172194,0 -1.953657,-0.904749 -0.781464,-0.904753 -0.781464,-2.267993 0,-1.32656 0.786673,-2.24965 0.791882,-0.923088 1.922398,-0.923088 1.260761,0 1.984916,0.868069 0.729366,0.86196 0.729366,2.359691 v 2.989345 h -1.948447 v -2.824291 q 0,-0.482941 -0.203181,-0.770261 -0.197971,-0.28732 -0.536604,-0.28732 -0.307375,0 -0.531396,0.262869 -0.224018,0.262865 -0.224018,0.623542 0,0.379018 0.203181,0.623545 0.20318,0.244527 0.515764,0.244527 0.255277,0 0.474089,-0.158942 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18961"
        />
        <motion.path
          variants={pathVariants}
          d="m 78.374633,93.193428 h -1.948447 v -3.441723 q 0,-0.525731 -0.369893,-0.525731 -0.36468,0 -0.36468,0.525731 v 3.441723 h -1.948448 v -3.39893 q 0,-1.19207 0.672058,-2.005124 0.672057,-0.819167 1.64628,-0.819167 1.114887,0 1.786945,0.947545 0.526185,0.739695 0.526185,2.060142 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18963"
        />
        <motion.path
          variants={pathVariants}
          d="m 82.709146,84.848934 h 1.948448 v 5.080054 q 0,1.39992 -0.625171,2.280218 -0.359473,0.507393 -0.916916,0.806939 -0.552235,0.299545 -1.135727,0.299545 -1.161772,0 -1.958867,-0.916978 -0.797091,-0.916975 -0.797091,-2.249651 0,-1.28988 0.791882,-2.231309 0.791882,-0.941429 1.87551,-0.941429 0.171922,0 0.520977,0.03668 v 2.518632 q -0.23965,-0.220076 -0.479299,-0.220076 -0.302165,0 -0.520974,0.262869 -0.213599,0.256752 -0.213599,0.623542 0,0.354567 0.224018,0.611319 0.224019,0.250641 0.536605,0.250641 0.750204,0 0.750204,-1.216524 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18965"
        />
        <motion.path
          variants={pathVariants}
          d="m 88.148125,86.970207 q 1.104468,0 1.891141,0.93532 0.791882,0.929203 0.791882,2.231309 0,1.320447 -0.802301,2.24965 -0.797094,0.929204 -1.92761,0.929204 -1.130515,0 -1.932816,-0.929204 -0.802301,-0.935316 -0.802301,-2.24965 0,-1.338786 0.802301,-2.249651 0.802301,-0.916978 1.979704,-0.916978 z m -0.0521,2.255767 q -0.312584,0 -0.531396,0.268978 -0.218808,0.262866 -0.218808,0.647997 0,0.379018 0.218808,0.647999 0.224021,0.268979 0.531396,0.268979 0.312586,0 0.531395,-0.268979 0.224018,-0.268981 0.224018,-0.647999 0,-0.385131 -0.218809,-0.647997 -0.218809,-0.268978 -0.536604,-0.268978 z"
          strokeWidth={0.4}
          stroke="white"
          id="path18967"
        />
      </motion.svg>

      {/* <span style={{
        color:"#212121"
      }}>Can you see me?</span> */}

      <ul className="links">
        <li>
          <a href="#section-two" className="nav-option">
            Skills
          </a>
        </li>
        <li>
          <a href="#section-three" className="nav-option">
            Projects
          </a>
        </li>
        <li>
          <span className="nav-option" onClick={() => changeContext()}>
            Contact Me
          </span>
        </li>
        <li
          onMouseEnter={() => setExtraMenu(true)}
          onMouseLeave={() => setExtraMenu(false)}
        >
          <span id="socials" className="nav-option">
            Socials
          </span>
        </li>
      </ul>
      <AnimatePresence>
        {extraMenu && <ExtraMenu toggleExtraMenu={toggleExtraMenu} />}
      </AnimatePresence>
    </motion.nav>
  );
};

export default NavBar;
